<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Code Snippets | Anatta Documentation</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/anatta-documentation/favicon.ico">
    <script src="/anatta-documentation/scroll-fix.js" type="text/javascript"></script>
    <meta name="description" content="Anatta Design Knowledge sharing documentation">
    <meta name="theme-color" content="#ff322e">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/anatta-documentation/assets/css/0.styles.80e705ca.css" as="style"><link rel="preload" href="/anatta-documentation/assets/js/app.262112a6.js" as="script"><link rel="preload" href="/anatta-documentation/assets/js/2.1f2a316b.js" as="script"><link rel="preload" href="/anatta-documentation/assets/js/19.19bd179a.js" as="script"><link rel="prefetch" href="/anatta-documentation/assets/js/10.90747fe6.js"><link rel="prefetch" href="/anatta-documentation/assets/js/11.5b4f463f.js"><link rel="prefetch" href="/anatta-documentation/assets/js/12.89f7e882.js"><link rel="prefetch" href="/anatta-documentation/assets/js/13.593b0525.js"><link rel="prefetch" href="/anatta-documentation/assets/js/14.8b70f750.js"><link rel="prefetch" href="/anatta-documentation/assets/js/15.aa9a6529.js"><link rel="prefetch" href="/anatta-documentation/assets/js/16.4d612a6e.js"><link rel="prefetch" href="/anatta-documentation/assets/js/17.f752a2d2.js"><link rel="prefetch" href="/anatta-documentation/assets/js/18.ecb5154a.js"><link rel="prefetch" href="/anatta-documentation/assets/js/20.6bc76b87.js"><link rel="prefetch" href="/anatta-documentation/assets/js/21.4c3d03d3.js"><link rel="prefetch" href="/anatta-documentation/assets/js/22.e77b9b0e.js"><link rel="prefetch" href="/anatta-documentation/assets/js/23.e40602ff.js"><link rel="prefetch" href="/anatta-documentation/assets/js/24.b31b60ad.js"><link rel="prefetch" href="/anatta-documentation/assets/js/25.acd777da.js"><link rel="prefetch" href="/anatta-documentation/assets/js/26.9bfb33e5.js"><link rel="prefetch" href="/anatta-documentation/assets/js/27.5667b6d4.js"><link rel="prefetch" href="/anatta-documentation/assets/js/28.3a5e39e8.js"><link rel="prefetch" href="/anatta-documentation/assets/js/29.5ce8a10a.js"><link rel="prefetch" href="/anatta-documentation/assets/js/3.189e3b56.js"><link rel="prefetch" href="/anatta-documentation/assets/js/30.ad226b7f.js"><link rel="prefetch" href="/anatta-documentation/assets/js/31.31b2e260.js"><link rel="prefetch" href="/anatta-documentation/assets/js/32.45772c91.js"><link rel="prefetch" href="/anatta-documentation/assets/js/33.bc120a61.js"><link rel="prefetch" href="/anatta-documentation/assets/js/34.c91549a8.js"><link rel="prefetch" href="/anatta-documentation/assets/js/35.20d5ca8d.js"><link rel="prefetch" href="/anatta-documentation/assets/js/36.a3c5abb4.js"><link rel="prefetch" href="/anatta-documentation/assets/js/37.8493e0b9.js"><link rel="prefetch" href="/anatta-documentation/assets/js/38.075eff14.js"><link rel="prefetch" href="/anatta-documentation/assets/js/39.a7a7c93e.js"><link rel="prefetch" href="/anatta-documentation/assets/js/4.0ff41c14.js"><link rel="prefetch" href="/anatta-documentation/assets/js/40.26f2229e.js"><link rel="prefetch" href="/anatta-documentation/assets/js/41.c80f8ece.js"><link rel="prefetch" href="/anatta-documentation/assets/js/42.b4f3d46d.js"><link rel="prefetch" href="/anatta-documentation/assets/js/43.ce8e21da.js"><link rel="prefetch" href="/anatta-documentation/assets/js/44.80677bfe.js"><link rel="prefetch" href="/anatta-documentation/assets/js/45.dd94708a.js"><link rel="prefetch" href="/anatta-documentation/assets/js/46.e7fbccc9.js"><link rel="prefetch" href="/anatta-documentation/assets/js/47.57a374f0.js"><link rel="prefetch" href="/anatta-documentation/assets/js/48.1f41410e.js"><link rel="prefetch" href="/anatta-documentation/assets/js/49.6f63f80d.js"><link rel="prefetch" href="/anatta-documentation/assets/js/5.94f2f22d.js"><link rel="prefetch" href="/anatta-documentation/assets/js/50.502971b6.js"><link rel="prefetch" href="/anatta-documentation/assets/js/51.7398c0e9.js"><link rel="prefetch" href="/anatta-documentation/assets/js/52.e35fe82f.js"><link rel="prefetch" href="/anatta-documentation/assets/js/53.8dc09600.js"><link rel="prefetch" href="/anatta-documentation/assets/js/54.1c3d3196.js"><link rel="prefetch" href="/anatta-documentation/assets/js/55.6e9575ff.js"><link rel="prefetch" href="/anatta-documentation/assets/js/6.cf7e87cf.js"><link rel="prefetch" href="/anatta-documentation/assets/js/7.9e5f1722.js"><link rel="prefetch" href="/anatta-documentation/assets/js/8.c5225ce5.js"><link rel="prefetch" href="/anatta-documentation/assets/js/9.9bc645e3.js">
    <link rel="stylesheet" href="/anatta-documentation/assets/css/0.styles.80e705ca.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/anatta-documentation/" class="home-link router-link-active"><img src="/anatta-documentation/favicon.ico" alt="Anatta Documentation" class="logo"> <span class="site-name can-hide">Anatta Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Prismic" class="dropdown-title"><span class="title">Prismic</span> <span class="arrow down"></span></button> <button type="button" aria-label="Prismic" class="mobile-dropdown-title"><span class="title">Prismic</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/anatta-documentation/prismic/" class="nav-link">
  Prismic
</a></li><li class="dropdown-item"><!----> <a href="/anatta-documentation/Prismic-1.0/" class="nav-link">
  Prismic 1.0
</a></li><li class="dropdown-item"><!----> <a href="/anatta-documentation/Prismic-2.0/" class="nav-link">
  Prismic 2.0
</a></li><li class="dropdown-item"><!----> <a href="/anatta-documentation/common-terms-and-code-snippets/" class="nav-link router-link-active">
  Common Terms and Code Snippets
</a></li></ul></div></div><div class="nav-item"><a href="/anatta-documentation/shopify-shell/" class="nav-link">
  Shopify Shell
</a></div><div class="nav-item"><a href="/anatta-documentation/design-tokens/" class="nav-link">
  Design Token
</a></div><div class="nav-item"><a href="/anatta-documentation/developer-guide/" class="nav-link">
  Developer Guide
</a></div> <a href="https://github.com/anattadesign/anatta-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Prismic" class="dropdown-title"><span class="title">Prismic</span> <span class="arrow down"></span></button> <button type="button" aria-label="Prismic" class="mobile-dropdown-title"><span class="title">Prismic</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/anatta-documentation/prismic/" class="nav-link">
  Prismic
</a></li><li class="dropdown-item"><!----> <a href="/anatta-documentation/Prismic-1.0/" class="nav-link">
  Prismic 1.0
</a></li><li class="dropdown-item"><!----> <a href="/anatta-documentation/Prismic-2.0/" class="nav-link">
  Prismic 2.0
</a></li><li class="dropdown-item"><!----> <a href="/anatta-documentation/common-terms-and-code-snippets/" class="nav-link router-link-active">
  Common Terms and Code Snippets
</a></li></ul></div></div><div class="nav-item"><a href="/anatta-documentation/shopify-shell/" class="nav-link">
  Shopify Shell
</a></div><div class="nav-item"><a href="/anatta-documentation/design-tokens/" class="nav-link">
  Design Token
</a></div><div class="nav-item"><a href="/anatta-documentation/developer-guide/" class="nav-link">
  Developer Guide
</a></div> <a href="https://github.com/anattadesign/anatta-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Common Terms and Code Snippets</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/anatta-documentation/common-terms-and-code-snippets/" aria-current="page" class="sidebar-link">Common Terms</a></li><li><a href="/anatta-documentation/common-terms-and-code-snippets/working-with-built-in-elements.html" class="sidebar-link">Common Built In Elements</a></li><li><a href="/anatta-documentation/common-terms-and-code-snippets/code-snippets.html" aria-current="page" class="active sidebar-link">Code Snippets</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/anatta-documentation/common-terms-and-code-snippets/code-snippets.html#rich-text-snippet" class="sidebar-link">Rich Text Snippet</a></li><li class="sidebar-sub-header"><a href="/anatta-documentation/common-terms-and-code-snippets/code-snippets.html#fetch-content-of-a-repeated-zone" class="sidebar-link">Fetch content of a repeated-zone</a></li><li class="sidebar-sub-header"><a href="/anatta-documentation/common-terms-and-code-snippets/code-snippets.html#lazyloading-images" class="sidebar-link">LazyLoading Images</a></li><li class="sidebar-sub-header"><a href="/anatta-documentation/common-terms-and-code-snippets/code-snippets.html#lazyload-image-with-existing-snippet-any" class="sidebar-link">Lazyload image With existing snippet(any)</a></li><li class="sidebar-sub-header"><a href="/anatta-documentation/common-terms-and-code-snippets/code-snippets.html#lazyload-images-only-for-prismic" class="sidebar-link">Lazyload Images only for prismic</a></li><li class="sidebar-sub-header"><a href="/anatta-documentation/common-terms-and-code-snippets/code-snippets.html#json-output-for-non-repeatable-zone" class="sidebar-link">JSON output for non-repeatable zone</a></li><li class="sidebar-sub-header"><a href="/anatta-documentation/common-terms-and-code-snippets/code-snippets.html#json-output-for-repeatable-zone" class="sidebar-link">JSON output for repeatable zone</a></li><li class="sidebar-sub-header"><a href="/anatta-documentation/common-terms-and-code-snippets/code-snippets.html#json-usage-example" class="sidebar-link">JSON Usage Example</a></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="code-snippets"><a href="#code-snippets" class="header-anchor">#</a> Code Snippets</h1> <h2 id="rich-text-snippet"><a href="#rich-text-snippet" class="header-anchor">#</a> Rich Text Snippet</h2> <p><strong>Full Code</strong></p> <SourceCode><div class="language-liquid extra-class"><pre class="language-liquid"><code>//prismic-richtext.liquid

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>richtext<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">for</span> <span class="token object">block</span> <span class="token keyword">in</span> richtext <span class="token delimiter punctuation">%}</span></span>
    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> block_type <span class="token operator">=</span> <span class="token object">block</span><span class="token punctuation">.</span>type <span class="token delimiter punctuation">-%}</span></span>
    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> spans <span class="token operator">=</span> <span class="token object">block</span><span class="token punctuation">.</span>spans <span class="token delimiter punctuation">-%}</span></span>
    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> text <span class="token operator">=</span> <span class="token object">block</span><span class="token punctuation">.</span>text <span class="token delimiter punctuation">-%}</span></span>
    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> text_length <span class="token operator">=</span> text <span class="token operator">|</span> <span class="token function filter">size</span>  <span class="token delimiter punctuation">-%}</span></span>
    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> formatted_text <span class="token operator">=</span> <span class="token string">''</span> <span class="token delimiter punctuation">-%}</span></span>
    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> text_cursor <span class="token operator">=</span> <span class="token number">0</span> <span class="token delimiter punctuation">-%}</span></span>
  
    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">if</span> spans<span class="token punctuation">.</span><span class="token function">size</span> <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token delimiter punctuation">-%}</span></span>
      <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">for</span> span <span class="token keyword">in</span> spans <span class="token delimiter punctuation">-%}</span></span>
        <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> span_start <span class="token operator">=</span> span<span class="token punctuation">.</span>start <span class="token delimiter punctuation">-%}</span></span>
        <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> span_end  <span class="token operator">=</span> span<span class="token punctuation">.</span>end <span class="token delimiter punctuation">-%}</span></span>
        <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> span_length <span class="token operator">=</span> span_end <span class="token operator">|</span> <span class="token function filter">minus</span><span class="token operator">:</span> span_start <span class="token delimiter punctuation">-%}</span></span>
  
        <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">comment</span> <span class="token delimiter punctuation">-%}</span></span>Copy the text from the last span (or start of string) to the start of this span<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endcomment</span> <span class="token delimiter punctuation">-%}</span></span>
        <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> cursor_to_span_length <span class="token operator">=</span> span_start <span class="token operator">|</span> <span class="token function filter">minus</span><span class="token operator">:</span> text_cursor <span class="token delimiter punctuation">-%}</span></span>
        <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> cursor_to_span <span class="token operator">=</span> text <span class="token operator">|</span> <span class="token function filter">slice</span><span class="token operator">:</span> text_cursor<span class="token punctuation">,</span> cursor_to_span_length <span class="token delimiter punctuation">-%}</span></span>
        <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> formatted_text <span class="token operator">=</span> formatted_text <span class="token operator">|</span> <span class="token function filter">append</span><span class="token operator">:</span> cursor_to_span <span class="token delimiter punctuation">-%}</span></span>
  
        <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">comment</span> <span class="token delimiter punctuation">-%}</span></span>Format and copy span<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endcomment</span> <span class="token delimiter punctuation">-%}</span></span>
        <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> span_text <span class="token operator">=</span> text <span class="token operator">|</span> <span class="token function filter">slice</span><span class="token operator">:</span> span_start<span class="token punctuation">,</span> span_length <span class="token delimiter punctuation">-%}</span></span>
        <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> span_type <span class="token operator">=</span> span<span class="token punctuation">.</span>type <span class="token delimiter punctuation">-%}</span></span>
        <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">case</span> span_type <span class="token delimiter punctuation">-%}</span></span>
          <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">when</span> <span class="token string">'strong'</span> <span class="token delimiter punctuation">-%}</span></span>
            <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">capture</span> formatted_span <span class="token delimiter punctuation">-%}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>span_text<span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>strong</span><span class="token punctuation">&gt;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endcapture</span> <span class="token delimiter punctuation">-%}</span></span>
          <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">when</span> <span class="token string">'em'</span> <span class="token delimiter punctuation">-%}</span></span>
            <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">capture</span> formatted_span <span class="token delimiter punctuation">-%}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>em</span><span class="token punctuation">&gt;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>span_text<span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>em</span><span class="token punctuation">&gt;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endcapture</span> <span class="token delimiter punctuation">-%}</span></span>
          <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">when</span> <span class="token string">'hyperlink'</span> <span class="token delimiter punctuation">-%}</span></span>
            <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">capture</span> formatted_span <span class="token delimiter punctuation">-%}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>richtext__link<span class="token punctuation">&quot;</span></span> <span class="token attr-name">href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>span<span class="token punctuation">.</span>data<span class="token punctuation">.</span>url<span class="token delimiter punctuation">}}</span></span></span> <span class="token attr-name"><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">if</span> span<span class="token punctuation">.</span>data<span class="token punctuation">.</span>target <span class="token operator">!=</span> blank <span class="token delimiter punctuation">-%}</span></span>target</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> span<span class="token punctuation">.</span>data<span class="token punctuation">.</span>target <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span><span class="token attr-name"><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endif</span> <span class="token delimiter punctuation">-%}</span></span></span><span class="token punctuation">&gt;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>span_text<span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endcapture</span> <span class="token delimiter punctuation">-%}</span></span>
          <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">when</span> <span class="token string">'label'</span> <span class="token delimiter punctuation">-%}</span></span>
            <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">capture</span> formatted_span <span class="token delimiter punctuation">-%}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>richtext__label-<span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> span<span class="token punctuation">.</span>data<span class="token punctuation">.</span>label <span class="token operator">|</span> <span class="token function filter">handleize</span> <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>span_text<span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endcapture</span> <span class="token delimiter punctuation">-%}</span></span>
          <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">else</span> <span class="token delimiter punctuation">-%}</span></span>
            <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">capture</span> formatted_span <span class="token delimiter punctuation">-%}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>richtext__<span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> span_type <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>span_text<span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endcapture</span> <span class="token delimiter punctuation">-%}</span></span>
        <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endcase</span> <span class="token delimiter punctuation">-%}</span></span>
  
        <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> formatted_text <span class="token operator">=</span> formatted_text <span class="token operator">|</span> <span class="token function filter">append</span><span class="token operator">:</span> formatted_span <span class="token delimiter punctuation">-%}</span></span>
  
        <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">comment</span> <span class="token delimiter punctuation">-%}</span></span>Move cursor<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endcomment</span> <span class="token delimiter punctuation">-%}</span></span>
        <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> text_cursor <span class="token operator">=</span> span_end <span class="token delimiter punctuation">-%}</span></span>
      <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endfor</span> <span class="token delimiter punctuation">-%}</span></span>
  
      <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">comment</span> <span class="token delimiter punctuation">-%}</span></span>Copy remaining text<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endcomment</span> <span class="token delimiter punctuation">-%}</span></span>
      <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> cursor_to_end <span class="token operator">=</span> text <span class="token operator">|</span> <span class="token function filter">slice</span><span class="token operator">:</span> text_cursor<span class="token punctuation">,</span> text_length <span class="token delimiter punctuation">-%}</span></span>
        <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> formatted_text <span class="token operator">=</span> formatted_text <span class="token operator">|</span> <span class="token function filter">append</span><span class="token operator">:</span> cursor_to_end <span class="token delimiter punctuation">-%}</span></span>
      <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">else</span> <span class="token delimiter punctuation">-%}</span></span>
        <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> formatted_text <span class="token operator">=</span> text <span class="token delimiter punctuation">-%}</span></span>
      <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endif</span> <span class="token delimiter punctuation">-%}</span></span>
  
      <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">case</span> block_type <span class="token delimiter punctuation">%}</span></span>
          <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">when</span> <span class="token string">'paragraph'</span> <span class="token delimiter punctuation">%}</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>richtext__text<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>formatted_text<span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
          <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">when</span> <span class="token string">'heading1'</span> <span class="token delimiter punctuation">%}</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>richtext__heading1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-richText-heading</span><span class="token punctuation">&gt;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>formatted_text<span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">when</span> <span class="token string">'heading2'</span> <span class="token delimiter punctuation">%}</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>richtext__heading2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-richText-heading</span><span class="token punctuation">&gt;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>formatted_text<span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">when</span> <span class="token string">'heading3'</span> <span class="token delimiter punctuation">%}</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>richtext__heading3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-richText-heading</span><span class="token punctuation">&gt;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>formatted_text<span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">when</span> <span class="token string">'heading4'</span> <span class="token delimiter punctuation">%}</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>richtext__heading4<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-richText-heading</span><span class="token punctuation">&gt;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>formatted_text<span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">when</span> <span class="token string">'heading5'</span> <span class="token delimiter punctuation">%}</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>richtext__heading5<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-richText-heading</span><span class="token punctuation">&gt;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>formatted_text<span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">when</span> <span class="token string">'heading6'</span> <span class="token delimiter punctuation">%}</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>richtext__heading6<span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-richText-heading</span><span class="token punctuation">&gt;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>formatted_text<span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
          <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">when</span> <span class="token string">'o-list-item'</span> <span class="token delimiter punctuation">%}</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ol</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>richtext__ol<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>richtext__olItem<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>formatted_text<span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ol</span><span class="token punctuation">&gt;</span></span>
          <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">when</span> <span class="token string">'list-item'</span> <span class="token delimiter punctuation">%}</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>ul</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>richtext__ul<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
              <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>li</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>richtext__ul-item<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>formatted_text<span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>li</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>ul</span><span class="token punctuation">&gt;</span></span>
          <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">when</span> <span class="token string">'image'</span> <span class="token delimiter punctuation">%}</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span><span class="token object">block</span><span class="token punctuation">.</span>url<span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span><span class="token object">block</span><span class="token punctuation">.</span>alt<span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">else</span> <span class="token delimiter punctuation">%}</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span><span class="token punctuation">&gt;</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>formatted_text<span class="token delimiter punctuation">}}</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">endcase</span> <span class="token delimiter punctuation">%}</span></span>
  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span></code></pre></div></SourceCode> <div class="block-space"></div> <hr> <p><strong>Example</strong></p> <div class="language- extra-class"><pre class="language-text"><code>{% assign section = metafields[module] %}
{% render 'prismic-richtext', richtext: section.richtext %}
</code></pre></div><div class="block-space"></div> <hr> <h2 id="fetch-content-of-a-repeated-zone"><a href="#fetch-content-of-a-repeated-zone" class="header-anchor">#</a> Fetch content of a repeated-zone</h2> <p>Fetching content through the repeated zone might get tricky. That's because,
Each placeholder aka, metafields key on repeated-zone is saved with metafields with  <code>_{index number}</code></p> <p><strong>Full Code</strong></p> <div class="language- extra-class"><pre class="language-text"><code>snippets/test-slice.liquid

&lt;!-- fetch metafields based on namespace(slice_test) --&gt;
{% assign section = metafields[module] %} 

&lt;! -- fetch total number of repetable items based on namespace --&gt;
{%- assign length = section.count | minus: 1 -%}

&lt;!-- Render data --&gt;
&lt;div class=&quot;item__list&quot;&gt;
   &lt;!--  Loop within the total count  --&gt;
    {% for index in (0..length) %}
       &lt;!-- Generate metafields key --&gt;
        {%- assign title = 'block_title_' | append: index -%} 
        {%- assign description = 'block_description_' | append: index -%}
       &lt;div class=&quot;item__single&quot;&gt;
         &lt;h2 class=&quot;item__title&quot;&gt;{{section[title]}}&lt;/h2&gt; 
         &lt;p class=&quot;item__text&quot;&gt;{{section[description]}}&lt;/p&gt;
       &lt;/div&gt;
    {% endfor %}
&lt;/div&gt;
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Want to learn more about this code ? <a href="./code-snippets/fetch-repeated-items.html" class="green-link">Learn more</a></p></div> <div class="block-space"></div> <hr> <h2 id="lazyloading-images"><a href="#lazyloading-images" class="header-anchor">#</a> LazyLoading Images</h2> <p>Existing Lazyloading snippet might not work with prismic because of the cdn url it gives.
The CDN url for images provided by prismic offers fetching of images of different resolutions by using
<code>&amp;w</code> suffix.</p> <p>So we have two approach here :</p> <h2 id="lazyload-image-with-existing-snippet-any"><a href="#lazyload-image-with-existing-snippet-any" class="header-anchor">#</a> Lazyload image With existing snippet(any)</h2> <p>Follow this Procedure</p> <div class="custom-block danger"><p class="custom-block-title">DANGER</p> <p>We are using <a href="https://www.npmjs.com/package/lazysizes"><em><strong>lazysizes</strong></em></a> plugin for lazyloading images. So check <strong>package.json</strong> if its installed.</p></div> <div class="block-space"></div> <hr> <p><strong>Full Code</strong></p> <SourceCode><div class="language-liquid extra-class"><pre class="language-liquid"><code>//lazy-images.liquid

<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> lazy_image_url <span class="token operator">=</span> <span class="token object">image</span><span class="token punctuation">.</span>url <span class="token operator">|</span>  <span class="token function filter">append</span><span class="token operator">:</span> <span class="token string">'&amp;w={width}'</span> <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> default_image_url <span class="token operator">=</span> <span class="token object">image</span><span class="token punctuation">.</span>url <span class="token operator">|</span>  <span class="token function filter">append</span><span class="token operator">:</span> <span class="token string">'&amp;w=10'</span> <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> noscript_image_url <span class="token operator">=</span> <span class="token object">image</span><span class="token punctuation">.</span>url <span class="token operator">|</span>  <span class="token function filter">append</span><span class="token operator">:</span> <span class="token string">'&amp;w=2048'</span> <span class="token delimiter punctuation">-%}</span></span>

<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">comment</span> <span class="token delimiter punctuation">%}</span><span class="token comment">Need to add a crop parameter to the image urls to fit the aspect</span><span class="token delimiter punctuation">{%</span> <span class="token keyword">endcomment</span> <span class="token delimiter punctuation">%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">if</span> aspect_ratio <span class="token operator">!=</span> blank <span class="token delimiter punctuation">-%}</span></span>
  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> lazy_image_url <span class="token operator">=</span> lazy_image_url <span class="token operator">|</span>  <span class="token function filter">append</span><span class="token operator">:</span> <span class="token string">'&amp;h={height}&amp;fit=crop'</span> <span class="token delimiter punctuation">-%}</span></span>
  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> default_image_url <span class="token operator">=</span> default_image_url <span class="token operator">|</span>  <span class="token function filter">append</span><span class="token operator">:</span> <span class="token string">'&amp;h={height}&amp;fit=crop'</span> <span class="token delimiter punctuation">-%}</span></span>
  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> noscript_image_url <span class="token operator">=</span> noscript_image_url <span class="token operator">|</span>  <span class="token function filter">append</span><span class="token operator">:</span> <span class="token string">'&amp;h={height}&amp;fit=crop'</span> <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endif</span> <span class="token delimiter punctuation">-%}</span></span>

<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">if</span> crop_parameters <span class="token operator">!=</span> blank <span class="token delimiter punctuation">-%}</span></span>
  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> lazy_image_url <span class="token operator">=</span> lazy_image_url <span class="token operator">|</span> <span class="token function filter">append</span><span class="token operator">:</span> <span class="token string">'&amp;crop='</span> <span class="token operator">|</span> <span class="token function filter">append</span><span class="token operator">:</span> crop_parameters <span class="token delimiter punctuation">-%}</span></span>
  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> default_image_url <span class="token operator">=</span> default_image_url <span class="token operator">|</span>  <span class="token function filter">append</span><span class="token operator">:</span> <span class="token string">'&amp;crop='</span> <span class="token operator">|</span> <span class="token function filter">append</span><span class="token operator">:</span> crop_parameters <span class="token delimiter punctuation">-%}</span></span>
  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> noscript_image_url <span class="token operator">=</span> noscript_image_url <span class="token operator">|</span>  <span class="token function filter">append</span><span class="token operator">:</span> <span class="token string">'&amp;crop='</span> <span class="token operator">|</span> <span class="token function filter">append</span><span class="token operator">:</span> crop_parameters <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endif</span>  <span class="token delimiter punctuation">-%}</span></span>

<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> height_float <span class="token operator">=</span> <span class="token object">image</span><span class="token punctuation">.</span>dimensions<span class="token punctuation">.</span>height <span class="token operator">|</span> <span class="token function filter">times</span><span class="token operator">:</span> <span class="token number">1.0</span> <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> image_aspect_ratio <span class="token operator">=</span> <span class="token object">image</span><span class="token punctuation">.</span>dimensions<span class="token punctuation">.</span>width <span class="token operator">|</span> <span class="token function filter">divided_by</span><span class="token operator">:</span> height_float <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> aspect_ratio <span class="token operator">=</span> aspect_ratio <span class="token operator">|</span> <span class="token function filter">default</span><span class="token operator">:</span> image_aspect_ratio <span class="token delimiter punctuation">-%}</span></span>

<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">render</span> <span class="token string">'responsive-image'</span><span class="token punctuation">,</span>
    max_width<span class="token operator">:</span> max_width<span class="token punctuation">,</span>
    max_height<span class="token operator">:</span> max_height<span class="token punctuation">,</span>
    image_id<span class="token operator">:</span> <span class="token object">image</span><span class="token punctuation">.</span>id<span class="token punctuation">,</span>
    lazy_image_url<span class="token operator">:</span> lazy_image_url<span class="token punctuation">,</span>
    default_image_url<span class="token operator">:</span> default_image_url<span class="token punctuation">,</span>
    noscript_image_url<span class="token operator">:</span> noscript_image_url<span class="token punctuation">,</span>
    image_aspect_ratio<span class="token operator">:</span> aspect_ratio<span class="token punctuation">,</span>
    image_width<span class="token operator">:</span> <span class="token object">image</span><span class="token punctuation">.</span>dimensions<span class="token punctuation">.</span>width<span class="token punctuation">,</span>
    image_height<span class="token operator">:</span> <span class="token object">image</span><span class="token punctuation">.</span>dimensions<span class="token punctuation">.</span>height<span class="token punctuation">,</span>
    image_alt<span class="token operator">:</span> <span class="token object">image</span><span class="token punctuation">.</span>alt<span class="token punctuation">,</span>
    image_class<span class="token operator">:</span> image_class<span class="token punctuation">,</span>
    image_attributes<span class="token operator">:</span> image_attributes<span class="token punctuation">,</span>
    wrapper_class<span class="token operator">:</span> wrapper_class<span class="token punctuation">,</span>
    wrapper_attributes<span class="token operator">:</span> wrapper_attributes <span class="token delimiter punctuation">%}</span></span></code></pre></div></SourceCode> <div class="block-space"></div> <hr> <SourceCode><div class="language-liquid extra-class"><pre class="language-liquid"><code>//responsive-image.liquid

<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">comment</span> <span class="token delimiter punctuation">-%}</span></span>
    It creates a style tag and it restricts an image from growing larger than its max resolution.

    Dependencies:
    - Lazysizes plugin (https://github.com/aFarkas/lazysizes) which enable responsive image with faster load time and better performance.
    - Lazysizes Responsive Images as a Service (https://github.com/aFarkas/lazysizes/tree/gh-pages/plugins/rias) To load the correct image size with our CDN
    - Lazysizes Bgset (https://github.com/aFarkas/lazysizes/tree/gh-pages/plugins/bgset) To use responsive images on background-image (CSS)

    Accepts:
    - max_width: {Number} Max width of the image container
    - max_height: {Number} Max height of the image container
    - image_id: a unique ID for the image
    - lazy_image_url: {String} the url to lazy load the image (with necessary {width} and/or {height} replacement parameters)
    - default_image_url: {String} the default image to load before lazy-loading,
    - noscript_image_url: {String} the image to load when javascript is unavailable,
    - image_aspect_ratio: {Number} the image aspect ratio,
    - image_width: {Number} the image width,
    - image_height: {Number} the image height,
    - image_alt: {String} the image alt text,
    - image_class: {String} class name of the <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token punctuation">/&gt;</span></span>
    - image_attributes: {String}  additional HTML attributes of the <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token punctuation">/&gt;</span></span>
    - wrapper_class: {String} class name of the <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span> wrapper
    - wrapper_attributes: {String} additional HTML attributes of the <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span> wrapper

    Usage:
    In your liquid template file, copy the following line
    - <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">include</span> <span class="token string">'responsive-image'</span> <span class="token keyword">with</span> <span class="token object">image</span><span class="token operator">:</span> featured_image<span class="token punctuation">,</span> image_class<span class="token operator">:</span> <span class="token string">&quot;css-class&quot;</span><span class="token punctuation">,</span> wrapper_class<span class="token operator">:</span> <span class="token string">&quot;wrapper-css-class&quot;</span><span class="token punctuation">,</span> max_width<span class="token operator">:</span> <span class="token number">700</span><span class="token punctuation">,</span> max_height<span class="token operator">:</span> <span class="token number">800</span> <span class="token delimiter punctuation">%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endcomment</span> <span class="token delimiter punctuation">-%}</span></span>

<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">comment</span> <span class="token delimiter punctuation">-%}</span></span> Added generated number to avoid conflict styling code when the same images are using this snippet <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endcomment</span> <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> min <span class="token operator">=</span> <span class="token number">100</span> <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> max <span class="token operator">=</span> <span class="token number">10000</span> <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> diff <span class="token operator">=</span> max <span class="token operator">|</span> <span class="token function filter">minus</span><span class="token operator">:</span> min <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> generated_image_id <span class="token operator">=</span> <span class="token string">&quot;now&quot;</span> <span class="token operator">|</span> <span class="token object">date</span><span class="token operator">:</span> <span class="token string">&quot;%N&quot;</span> <span class="token operator">|</span> <span class="token function filter">modulo</span><span class="token operator">:</span> diff <span class="token operator">|</span> <span class="token function filter">plus</span><span class="token operator">:</span> min <span class="token delimiter punctuation">-%}</span></span>

<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> max_height <span class="token operator">=</span> max_height <span class="token operator">|</span> <span class="token function filter">default</span><span class="token operator">:</span> <span class="token number">1900</span> <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> max_width <span class="token operator">=</span> max_width <span class="token operator">|</span> <span class="token function filter">default</span><span class="token operator">:</span> <span class="token number">1900</span> <span class="token delimiter punctuation">-%}</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>style</span><span class="token punctuation">&gt;</span></span><span class="token style"><span class="token language-css">
  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">comment</span> <span class="token delimiter punctuation">-%}</span></span>
    The image aspect ratio tells us the orientation of the <span class="token property">image</span><span class="token punctuation">:</span>
    - less than 1.0 is portrait
    - exactly 1.0 is square
    - greater than 1.0 is landscape
  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endcomment</span> <span class="token delimiter punctuation">-%}</span></span>
  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">if</span> image_aspect_ratio <span class="token operator">&lt;=</span> <span class="token number">1</span> <span class="token delimiter punctuation">-%}</span></span>
    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> max_height_image <span class="token operator">=</span> image_height <span class="token operator">|</span> <span class="token function filter">at_most</span><span class="token operator">:</span> max_height <span class="token delimiter punctuation">-%}</span></span>
    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> max_width_image <span class="token operator">=</span> max_height_image <span class="token operator">|</span> <span class="token function filter">times</span><span class="token operator">:</span> image_aspect_ratio <span class="token delimiter punctuation">-%}</span></span>
  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">else</span> <span class="token delimiter punctuation">-%}</span></span>
    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">if</span> image_width <span class="token operator">&gt;</span> <span class="token number">1280</span> <span class="token delimiter punctuation">-%}</span></span>
      <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">comment</span> <span class="token delimiter punctuation">-%}</span></span> If we have a really big image<span class="token punctuation">,</span> assume that it's <span class="token selector">a hero image that needs to be fullscreen <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endcomment</span> <span class="token delimiter punctuation">-%}</span></span>
      <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> max_width_image <span class="token operator">=</span> max_width <span class="token delimiter punctuation">-%}</span></span>
    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">else</span> <span class="token delimiter punctuation">-%}</span></span>
      <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> max_width_image <span class="token operator">=</span> image_width <span class="token operator">|</span> <span class="token function filter">at_most</span><span class="token operator">:</span> max_width <span class="token delimiter punctuation">-%}</span></span>
    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endif</span> <span class="token delimiter punctuation">-%}</span></span>
    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> max_height_image <span class="token operator">=</span> max_width_image <span class="token operator">|</span> <span class="token function filter">divided_by</span><span class="token operator">:</span> image_aspect_ratio <span class="token delimiter punctuation">-%}</span></span>
  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endif</span> <span class="token delimiter punctuation">-%}</span></span>

  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> max_width_image_float <span class="token operator">=</span> max_width_image <span class="token operator">|</span> <span class="token function filter">times</span><span class="token operator">:</span> <span class="token number">1.0</span>  <span class="token delimiter punctuation">-%}</span></span>

  #Image-<span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> image_id <span class="token delimiter punctuation">}}</span></span>-<span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> generated_image_id <span class="token delimiter punctuation">}}</span></span></span> <span class="token punctuation">{</span>
    <span class="token property">max-width</span><span class="token punctuation">:</span> <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> max_width_image <span class="token delimiter punctuation">}}</span></span>px<span class="token punctuation">;</span>
    <span class="token property">max-height</span><span class="token punctuation">:</span> <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> max_height_image <span class="token delimiter punctuation">}}</span></span>px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token selector">#ImageWrapper-<span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> image_id <span class="token delimiter punctuation">}}</span></span>-<span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> generated_image_id <span class="token delimiter punctuation">}}</span></span></span> <span class="token punctuation">{</span>
    <span class="token property">max-width</span><span class="token punctuation">:</span> <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> max_width_image <span class="token delimiter punctuation">}}</span></span>px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token selector">#ImageWrapper-<span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> image_id <span class="token delimiter punctuation">}}</span></span>-<span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> generated_image_id <span class="token delimiter punctuation">}}</span></span>::before</span> <span class="token punctuation">{</span>
    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">comment</span> <span class="token delimiter punctuation">-%}</span></span>
      When you change the window screen width<span class="token punctuation">,</span> we want to make sure that the container's size is proportionally calculated.
      Note regarding padding <span class="token property">percentage</span><span class="token punctuation">:</span> The percentage is calculated with respect to the width of the generated box's containing block <span class="token punctuation">(</span><span class="token property">source</span><span class="token punctuation">:</span> <span class="token property">http</span><span class="token punctuation">:</span>//www.w3.org/TR/2011/REC-CSS2-20110607/box.html#padding-properties<span class="token punctuation">)</span>
    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endcomment</span> <span class="token delimiter punctuation">-%}</span></span>
    <span class="token property">padding-top</span><span class="token punctuation">:</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> max_height_image <span class="token operator">|</span> <span class="token function filter">divided_by</span><span class="token operator">:</span> max_width_image_float <span class="token operator">|</span> <span class="token function filter">times</span><span class="token operator">:</span> <span class="token number">100</span><span class="token delimiter punctuation">}}</span></span>%<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>style</span><span class="token punctuation">&gt;</span></span>

<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">comment</span> <span class="token delimiter punctuation">-%}</span></span> Limit image widths to valid options based on image_width <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endcomment</span> <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> image_widths <span class="token operator">=</span> <span class="token string">'180,360,540,720,900,1080,1296,1512,1728,1944,2160,2376,2592,2808,3024'</span> <span class="token operator">|</span> <span class="token function filter">split</span><span class="token operator">:</span> <span class="token string">','</span> <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">capture</span> image_widths <span class="token delimiter punctuation">-%}</span></span>
  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">for</span> width <span class="token keyword">in</span> image_widths <span class="token delimiter punctuation">-%}</span></span>
    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">comment</span> <span class="token delimiter punctuation">-%}</span></span> Check if image width is less or equal to width <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endcomment</span> <span class="token delimiter punctuation">-%}</span></span>
    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> width_num <span class="token operator">=</span> width <span class="token operator">|</span> <span class="token function filter">plus</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token operator">|</span> <span class="token function filter">round</span> <span class="token delimiter punctuation">-%}</span></span>
    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">if</span> image_width <span class="token operator">&gt;=</span> width_num <span class="token delimiter punctuation">-%}</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> width_num <span class="token delimiter punctuation">}}</span></span>,<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endif</span> <span class="token delimiter punctuation">-%}</span></span>
  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endfor</span> <span class="token delimiter punctuation">-%}</span></span>
  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> image_width <span class="token delimiter punctuation">}}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endcapture</span> <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> image_widths <span class="token operator">=</span> image_widths <span class="token operator">|</span> <span class="token function filter">strip_newlines</span> <span class="token delimiter punctuation">-%}</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ImageWrapper-<span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> image_id <span class="token delimiter punctuation">}}</span></span>-<span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> generated_image_id <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">data-image-id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> image_id <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>responsive-image__wrapper <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> wrapper_class <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> wrapper_attributes <span class="token delimiter punctuation">}}</span></span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Image-<span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> image_id <span class="token delimiter punctuation">}}</span></span>-<span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> generated_image_id <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>responsive-image__image lazyload <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> image_class <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> default_image_url <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mP8/u3zfwAJrQPhbkYXzAAAAABJRU5ErkJggg==<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">data-src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> lazy_image_url <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">data-widths</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>[<span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> image_widths <span class="token delimiter punctuation">}}</span></span>]<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">data-aspectratio</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> image_aspect_ratio <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">data-sizes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>auto<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">tabindex</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>-1<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> image_alt <span class="token operator">|</span> <span class="token function filter">escape</span> <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span>
    <span class="token attr-name"><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> image_attributes <span class="token delimiter punctuation">}}</span></span></span>
  <span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>noscript</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> image_class <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> noscript_image_url <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> image_alt <span class="token operator">|</span> <span class="token function filter">escape</span> <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>noscript</span><span class="token punctuation">&gt;</span></span></code></pre></div></SourceCode> <div class="block-space"></div> <hr> <p><strong>Example</strong></p> <div class="language- extra-class"><pre class="language-text"><code>{% render 'prismic-responsive-image', image: section.desktop_image, aspect_ratio: aspect_ratio %}

{% comment %}Aspect ratio is optional here {% endcomment %}
</code></pre></div><p><strong>Options Provided</strong></p> <p><strong>image</strong><br>
This accepts object image object that prismic saves as a metafield.</p> <p><strong>aspectRatio</strong><br>
It defines the the <strong>width/height</strong> ratio of an image.<br>
If value is <strong>more than 1</strong>, it means image have <strong>more width than height</strong>.<br>
If <strong>less than 1</strong> , it means image have <strong>more height than width.</strong></p> <div class="block-space"></div> <hr> <h2 id="lazyload-images-only-for-prismic"><a href="#lazyload-images-only-for-prismic" class="header-anchor">#</a> Lazyload Images only for prismic</h2> <p><strong>Full Code</strong></p> <SourceCode><div class="language-liquid extra-class"><pre class="language-liquid"><code><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> image_widths_array <span class="token operator">=</span> <span class="token string">&quot;100,116,134,156,182,210,244,282,328,380,442,512,594,688,798,926,1074,1246,1446,1678,1946,2258,2618,3038&quot;</span> <span class="token operator">|</span> <span class="token function filter">split</span><span class="token operator">:</span> <span class="token string">','</span> <span class="token delimiter punctuation">%}</span></span>
 
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">unless</span> imageId <span class="token delimiter punctuation">-%}</span></span>		
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> min <span class="token operator">=</span> <span class="token number">100</span> <span class="token delimiter punctuation">%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> max <span class="token operator">=</span> <span class="token number">10000</span> <span class="token delimiter punctuation">%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> diff <span class="token operator">=</span> max <span class="token operator">|</span> <span class="token function filter">minus</span><span class="token operator">:</span> min <span class="token delimiter punctuation">%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> imageId <span class="token operator">=</span> <span class="token string">&quot;now&quot;</span> <span class="token operator">|</span> <span class="token object">date</span><span class="token operator">:</span> <span class="token string">&quot;%N&quot;</span> <span class="token operator">|</span> <span class="token function filter">modulo</span><span class="token operator">:</span> diff <span class="token operator">|</span> <span class="token function filter">plus</span><span class="token operator">:</span> min <span class="token delimiter punctuation">%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endunless</span> <span class="token delimiter punctuation">-%}</span></span>

<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">if</span> width <span class="token delimiter punctuation">-%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> imageWidth <span class="token operator">=</span> width <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endif</span> <span class="token delimiter punctuation">-%}</span></span>

<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">if</span> prismic <span class="token delimiter punctuation">%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> src <span class="token operator">=</span> imageData<span class="token punctuation">.</span>url <span class="token delimiter punctuation">%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">unless</span> imageWidth <span class="token delimiter punctuation">-%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> imageWidth <span class="token operator">=</span> imageData<span class="token punctuation">.</span>dimensions<span class="token punctuation">.</span>width <span class="token delimiter punctuation">%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endunless</span> <span class="token delimiter punctuation">-%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> imageHeight <span class="token operator">=</span> imageData<span class="token punctuation">.</span>dimensions<span class="token punctuation">.</span>height <span class="token delimiter punctuation">%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> widthParam <span class="token operator">=</span> <span class="token string">&quot;&amp;w=&quot;</span> <span class="token delimiter punctuation">%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> initialSrc <span class="token operator">=</span> src <span class="token operator">|</span> <span class="token function filter">append</span><span class="token operator">:</span> <span class="token string">'&amp;w=10'</span> <span class="token delimiter punctuation">%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> alt <span class="token operator">=</span> imageData<span class="token punctuation">.</span>alt <span class="token delimiter punctuation">%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">else</span> <span class="token delimiter punctuation">%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> src <span class="token operator">=</span> imageData <span class="token operator">|</span> <span class="token function filter">img_url</span><span class="token operator">:</span> <span class="token string">&quot;master&quot;</span> <span class="token delimiter punctuation">%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">unless</span> imageWidth <span class="token delimiter punctuation">-%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> imageWidth <span class="token operator">=</span> imageData<span class="token punctuation">.</span>width <span class="token delimiter punctuation">%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endunless</span> <span class="token delimiter punctuation">-%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> imageHeight <span class="token operator">=</span> imageData<span class="token punctuation">.</span>height <span class="token delimiter punctuation">%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> widthParam <span class="token operator">=</span> <span class="token string">&quot;&amp;width=&quot;</span> <span class="token delimiter punctuation">%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> initialSrc <span class="token operator">=</span> imageData <span class="token operator">|</span> <span class="token function filter">img_url</span><span class="token operator">:</span> <span class="token string">'10x10'</span> <span class="token delimiter punctuation">%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> alt <span class="token operator">=</span> imageData<span class="token punctuation">.</span>alt <span class="token delimiter punctuation">%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">endif</span> <span class="token delimiter punctuation">%}</span></span>

<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">if</span> src <span class="token operator">contains</span> <span class="token string">'.svg'</span> <span class="token delimiter punctuation">-%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> isSVG <span class="token operator">=</span> <span class="token boolean">true</span> <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">else</span> <span class="token delimiter punctuation">-%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> isSVG <span class="token operator">=</span> <span class="token boolean">false</span> <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endif</span> <span class="token delimiter punctuation">-%}</span></span>

<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">if</span> isSVG <span class="token delimiter punctuation">-%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> initialSrc <span class="token operator">=</span> <span class="token string">'data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7'</span> <span class="token delimiter punctuation">%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endif</span> <span class="token delimiter punctuation">-%}</span></span>

<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">capture</span> image_widths_array <span class="token delimiter punctuation">-%}</span></span>
  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">for</span> width <span class="token keyword">in</span> image_widths_array <span class="token delimiter punctuation">-%}</span></span>
    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">comment</span> <span class="token delimiter punctuation">-%}</span></span> Check if image width is less or equal to width <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endcomment</span> <span class="token delimiter punctuation">-%}</span></span>
    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> width_num <span class="token operator">=</span> width <span class="token operator">|</span> <span class="token function filter">plus</span><span class="token operator">:</span> <span class="token number">0</span> <span class="token operator">|</span> <span class="token function filter">round</span> <span class="token delimiter punctuation">-%}</span></span>
    <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">if</span> imageWidth <span class="token operator">&gt;=</span> width_num <span class="token delimiter punctuation">-%}</span></span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> src <span class="token operator">|</span> <span class="token function filter">append</span><span class="token operator">:</span> widthParam <span class="token operator">|</span> <span class="token function filter">append</span><span class="token operator">:</span> width_num <span class="token operator">|</span> <span class="token function filter">append</span><span class="token operator">:</span> <span class="token string">&quot; &quot;</span> <span class="token operator">|</span> <span class="token function filter">append</span><span class="token operator">:</span> width_num <span class="token operator">|</span> <span class="token function filter">append</span><span class="token operator">:</span> <span class="token string">&quot;w&quot;</span><span class="token delimiter punctuation">}}</span></span>,<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endif</span> <span class="token delimiter punctuation">-%}</span></span>
  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endfor</span> <span class="token delimiter punctuation">-%}</span></span>
  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> src <span class="token operator">|</span> <span class="token function filter">append</span><span class="token operator">:</span> widthParam <span class="token operator">|</span> <span class="token function filter">append</span><span class="token operator">:</span> imageWidth <span class="token operator">|</span> <span class="token function filter">append</span><span class="token operator">:</span> <span class="token string">&quot; &quot;</span> <span class="token operator">|</span> <span class="token function filter">append</span><span class="token operator">:</span> imageWidth <span class="token operator">|</span> <span class="token function filter">append</span><span class="token operator">:</span> <span class="token string">&quot;w&quot;</span><span class="token delimiter punctuation">}}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endcapture</span> <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> image_widths_array <span class="token operator">=</span> image_widths_array <span class="token operator">|</span> <span class="token function filter">strip</span> <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> iwidth <span class="token operator">=</span> imageWidth <span class="token operator">|</span> <span class="token function filter">times</span><span class="token operator">:</span> <span class="token number">1.0</span> <span class="token delimiter punctuation">%}</span></span>

<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">if</span> aspectRatio <span class="token delimiter punctuation">-%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> aspect_ratio <span class="token operator">=</span> aspectRatio <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">else</span> <span class="token delimiter punctuation">-%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> aspect_ratio <span class="token operator">=</span> imageHeight <span class="token operator">|</span> <span class="token function filter">divided_by</span><span class="token operator">:</span> iwidth <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endif</span> <span class="token delimiter punctuation">-%}</span></span>

<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">if</span> imageWidth <span class="token operator">&gt;</span> imageHeight <span class="token delimiter punctuation">-%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> mode <span class="token operator">=</span> <span class="token string">'image--landscape'</span> <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">elsif</span> imageHeight <span class="token operator">&gt;</span> imageWidth <span class="token delimiter punctuation">-%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> mode <span class="token operator">=</span> <span class="token string">'image--portrait'</span> <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">else</span> <span class="token delimiter punctuation">-%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> mode <span class="token operator">=</span> <span class="token string">'image--square'</span> <span class="token delimiter punctuation">-%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endif</span> <span class="token delimiter punctuation">-%}</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>picture</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image<span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>imageId<span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>class<span class="token delimiter punctuation">}}</span></span> <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>mode<span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span> <span class="token special-attr"><span class="token attr-name">style</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token value css language-css"><span class="token property">--maxw</span><span class="token punctuation">:</span> <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>imageWidth<span class="token delimiter punctuation">}}</span></span>px<span class="token punctuation">;</span><span class="token property">--maxh</span><span class="token punctuation">:</span> <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>imageHeight<span class="token delimiter punctuation">}}</span></span>px<span class="token punctuation">;</span><span class="token property">--aspect-ratio</span><span class="token punctuation">:</span><span class="token function">var</span><span class="token punctuation">(</span>--ov-aspect-ratio<span class="token punctuation">,</span> <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> aspect_ratio <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token property"><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">if</span> fit <span class="token delimiter punctuation">-%}</span></span>--image-fit</span><span class="token punctuation">:</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>fit<span class="token delimiter punctuation">}}</span></span><span class="token punctuation">;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endif</span> <span class="token delimiter punctuation">-%}</span></span></span><span class="token punctuation">&quot;</span></span></span> <span class="token attr-name">data-loaded</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">if</span> load <span class="token delimiter punctuation">-%}</span></span>true<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">else</span> <span class="token delimiter punctuation">-%}</span></span>false<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endif</span> <span class="token delimiter punctuation">-%}</span></span><span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">if</span> isSVG <span class="token delimiter punctuation">-%}</span></span>data-svg</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span><span class="token attr-name"><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endif</span> <span class="token delimiter punctuation">-%}</span></span></span><span class="token punctuation">&gt;</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">unless</span> isSVG <span class="token delimiter punctuation">-%}</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>source</span> 
			<span class="token attr-name"><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">if</span> load <span class="token delimiter punctuation">%}</span></span></span> <span class="token attr-name">srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> image_widths_array <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span><span class="token attr-name"><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">else</span> <span class="token delimiter punctuation">%}</span></span>data-srcset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> image_widths_array <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span><span class="token attr-name"><span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endif</span> <span class="token delimiter punctuation">-%}</span></span></span>
			<span class="token attr-name">sizes</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> sizes <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span>
			<span class="token attr-name">aria-hidden</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>true<span class="token punctuation">&quot;</span></span>
		<span class="token punctuation">/&gt;</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endunless</span> <span class="token delimiter punctuation">-%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">if</span> isSVG <span class="token operator">and</span> load <span class="token delimiter punctuation">-%}</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
			<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image__elem<span class="token punctuation">&quot;</span></span>
			<span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> src <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span>
			<span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> alt <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span> 
		<span class="token punctuation">/&gt;</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">elsif</span> isSVG <span class="token delimiter punctuation">-%}</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
			<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image__elem<span class="token punctuation">&quot;</span></span>
			<span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> initialSrc <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span>
			<span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> alt <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span> 
			<span class="token attr-name">data-src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> src <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span>
		<span class="token punctuation">/&gt;</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">else</span> <span class="token delimiter punctuation">-%}</span></span>
		<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>img</span>
			<span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>image__elem<span class="token punctuation">&quot;</span></span>
			<span class="token attr-name">src</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> initialSrc <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span>
			<span class="token attr-name">alt</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> alt <span class="token delimiter punctuation">}}</span></span><span class="token punctuation">&quot;</span></span>
		<span class="token punctuation">/&gt;</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endif</span> <span class="token delimiter punctuation">-%}</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>picture</span><span class="token punctuation">&gt;</span></span>

<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">unless</span> noscript <span class="token operator">or</span> load <span class="token delimiter punctuation">-%}</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
	<span class="token punctuation">{</span>
		<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">if</span> globalObject <span class="token delimiter punctuation">-%}</span></span>
			<span class="token keyword">const</span> objectName <span class="token operator">=</span> <span class="token string">'<span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> globalObject <span class="token delimiter punctuation">}}</span></span>'</span>
			window<span class="token punctuation">[</span>objectName<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
				<span class="token literal-property property">width</span><span class="token operator">:</span> <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>imageWidth<span class="token delimiter punctuation">}}</span></span><span class="token punctuation">,</span>
				<span class="token literal-property property">height</span><span class="token operator">:</span> <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>imageHeight<span class="token delimiter punctuation">}}</span></span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>
		<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endif</span> <span class="token delimiter punctuation">-%}</span></span>
		<span class="token keyword">const</span> lazyImages <span class="token operator">=</span> window<span class="token punctuation">.</span>lazyImages <span class="token operator">=</span> window<span class="token punctuation">.</span>lazyImages <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
		<span class="token keyword">const</span> el <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&quot;#image<span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span>imageId<span class="token delimiter punctuation">}}</span></span>&quot;</span><span class="token punctuation">)</span>
		<span class="token keyword">if</span><span class="token punctuation">(</span>el <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span>lazyImageFn<span class="token punctuation">)</span> window<span class="token punctuation">.</span><span class="token function">lazyImageFn</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">else</span> <span class="token keyword">if</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span> lazyImages<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>el<span class="token punctuation">)</span>
	<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endunless</span> <span class="token delimiter punctuation">-%}</span></span></code></pre></div></SourceCode> <div class="block-space"></div> <hr> <p><strong>Example</strong></p> <div class="language- extra-class"><pre class="language-text"><code>{% include 'lazyimage', imageData:section['placeholder_id'], prismic: true, fit: &quot;fill&quot;, noscript: true, aspectRatio: aspectRatio %}
</code></pre></div><div class="block-space"></div> <hr> <p><strong>Options Provided</strong></p> <p><strong>imageData</strong><br>
This accepts object image file that prismic saves as a metafield.</p> <p><strong>prismic</strong>
If true, this will look for <strong>url</strong> key instead of <strong>src</strong> , because prismic image object consists image url in key of <strong>url</strong> instead of common key, <strong>src</strong>.</p> <p><strong>fit</strong> <em><strong>Options</strong></em>:</p> <ul><li><p>&quot;fit&quot; :
This will crop the image, if image resolution is higher than container.
Image wont expand to fill the space, if  image resolution is lower than container.</p></li> <li><p>&quot;fill&quot;
This will sqeeze the image , if image resolution is higher than container.
Image will expand to fill the container if image resolution is lower than the container.</p></li></ul> <p><strong>aspectRatio</strong><br>
It defines the the <strong>height/width</strong> ratio of an image.<br>
If value is <strong>more than 1</strong>, it means image have <strong>more height than width</strong>.<br>
If <strong>less than 1</strong> , it means image have <strong>more width than height.</strong></p> <div class="block-space"></div> <hr> <div class="block-space"></div> <h2 id="json-output-for-non-repeatable-zone"><a href="#json-output-for-non-repeatable-zone" class="header-anchor">#</a> JSON output for non-repeatable zone</h2> <p>Well this is preety straight forward. Hope i didn't kill your hype. 😛</p> <p>Ok, so create a new snippet.</p> <div class="language- extra-class"><pre class="language-text"><code>snippets &gt; json-output-{namespace}.liquid

{%- assign namespace = 'namespace-name' -%}
{% assign page_handle = 'page-handle' %}
{% assign section = pages[page_handle].metafields %}
{% assign block_content = section[namespace] %}
{%- assign length = block_content.count | minus: 1 -%}
{% assign title = section['title'] %}

[
 {
     &quot;title&quot;: &quot;{{title}}&quot;
 }
]
</code></pre></div><div class="block-space"></div> <hr> <div class="block-space"></div> <h2 id="json-output-for-repeatable-zone"><a href="#json-output-for-repeatable-zone" class="header-anchor">#</a> JSON output for repeatable zone</h2> <div class="language- extra-class"><pre class="language-text"><code>snippets &gt; json-output-{namespace}.liquid

{%- assign namespace = 'namespace-name' -%}
{% assign page_handle = 'page-handle' %}
{% assign section = pages[page_handle].metafields %}
{% assign block_content = section[namespace] %}
{%- assign length = block_content.count | minus: 1 -%}


[
{% for index in (0..length) %}
 {% assign title = 'title_' | append: index %}
 {
     &quot;title&quot; : &quot;{{title}}&quot;
 }
 {% unless forloop.last %}
 ,
 {% endunless %}
{% endfor %}
]
</code></pre></div><div class="block-space"></div> <hr> <h2 id="json-usage-example"><a href="#json-usage-example" class="header-anchor">#</a> JSON Usage Example</h2> <div class="language- extra-class"><pre class="language-text"><code>templates &gt; Collection.liquid

&lt;script&gt;
{
  &quot;data&quot;: {% render &quot;json-output-{namespace}&quot; %}
}
&lt;/script&gt;
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>You can pass the required variable like namespace or page handle directly into the snippet.<br>
This is just a basic implementation.</p></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/anattadesign/anatta-documentation/edit/master/docs/src/common-terms-and-code-snippets/code-snippets.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/18/2022, 2:31:16 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/anatta-documentation/common-terms-and-code-snippets/working-with-built-in-elements.html" class="prev">
        Common Built In Elements
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/anatta-documentation/assets/js/app.262112a6.js" defer></script><script src="/anatta-documentation/assets/js/2.1f2a316b.js" defer></script><script src="/anatta-documentation/assets/js/19.19bd179a.js" defer></script>
  </body>
</html>
