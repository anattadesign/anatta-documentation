<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Code Integration | Anatta Documentation</title>
    <meta name="generator" content="VuePress 1.9.7">
    <link rel="icon" href="/anatta-documentation/favicon.ico">
    <script src="/anatta-documentation/scroll-fix.js" type="text/javascript"></script>
    <meta name="description" content="Anatta Design Knowledge sharing documentation">
    <meta name="theme-color" content="#ff322e">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    
    <link rel="preload" href="/anatta-documentation/assets/css/0.styles.80e705ca.css" as="style"><link rel="preload" href="/anatta-documentation/assets/js/app.262112a6.js" as="script"><link rel="preload" href="/anatta-documentation/assets/js/2.1f2a316b.js" as="script"><link rel="preload" href="/anatta-documentation/assets/js/5.94f2f22d.js" as="script"><link rel="prefetch" href="/anatta-documentation/assets/js/10.90747fe6.js"><link rel="prefetch" href="/anatta-documentation/assets/js/11.5b4f463f.js"><link rel="prefetch" href="/anatta-documentation/assets/js/12.89f7e882.js"><link rel="prefetch" href="/anatta-documentation/assets/js/13.593b0525.js"><link rel="prefetch" href="/anatta-documentation/assets/js/14.8b70f750.js"><link rel="prefetch" href="/anatta-documentation/assets/js/15.aa9a6529.js"><link rel="prefetch" href="/anatta-documentation/assets/js/16.4d612a6e.js"><link rel="prefetch" href="/anatta-documentation/assets/js/17.f752a2d2.js"><link rel="prefetch" href="/anatta-documentation/assets/js/18.ecb5154a.js"><link rel="prefetch" href="/anatta-documentation/assets/js/19.19bd179a.js"><link rel="prefetch" href="/anatta-documentation/assets/js/20.6bc76b87.js"><link rel="prefetch" href="/anatta-documentation/assets/js/21.4c3d03d3.js"><link rel="prefetch" href="/anatta-documentation/assets/js/22.e77b9b0e.js"><link rel="prefetch" href="/anatta-documentation/assets/js/23.e40602ff.js"><link rel="prefetch" href="/anatta-documentation/assets/js/24.b31b60ad.js"><link rel="prefetch" href="/anatta-documentation/assets/js/25.acd777da.js"><link rel="prefetch" href="/anatta-documentation/assets/js/26.9bfb33e5.js"><link rel="prefetch" href="/anatta-documentation/assets/js/27.5667b6d4.js"><link rel="prefetch" href="/anatta-documentation/assets/js/28.3a5e39e8.js"><link rel="prefetch" href="/anatta-documentation/assets/js/29.5ce8a10a.js"><link rel="prefetch" href="/anatta-documentation/assets/js/3.189e3b56.js"><link rel="prefetch" href="/anatta-documentation/assets/js/30.ad226b7f.js"><link rel="prefetch" href="/anatta-documentation/assets/js/31.31b2e260.js"><link rel="prefetch" href="/anatta-documentation/assets/js/32.45772c91.js"><link rel="prefetch" href="/anatta-documentation/assets/js/33.bc120a61.js"><link rel="prefetch" href="/anatta-documentation/assets/js/34.c91549a8.js"><link rel="prefetch" href="/anatta-documentation/assets/js/35.20d5ca8d.js"><link rel="prefetch" href="/anatta-documentation/assets/js/36.a3c5abb4.js"><link rel="prefetch" href="/anatta-documentation/assets/js/37.8493e0b9.js"><link rel="prefetch" href="/anatta-documentation/assets/js/38.075eff14.js"><link rel="prefetch" href="/anatta-documentation/assets/js/39.a7a7c93e.js"><link rel="prefetch" href="/anatta-documentation/assets/js/4.0ff41c14.js"><link rel="prefetch" href="/anatta-documentation/assets/js/40.26f2229e.js"><link rel="prefetch" href="/anatta-documentation/assets/js/41.c80f8ece.js"><link rel="prefetch" href="/anatta-documentation/assets/js/42.b4f3d46d.js"><link rel="prefetch" href="/anatta-documentation/assets/js/43.ce8e21da.js"><link rel="prefetch" href="/anatta-documentation/assets/js/44.80677bfe.js"><link rel="prefetch" href="/anatta-documentation/assets/js/45.dd94708a.js"><link rel="prefetch" href="/anatta-documentation/assets/js/46.e7fbccc9.js"><link rel="prefetch" href="/anatta-documentation/assets/js/47.57a374f0.js"><link rel="prefetch" href="/anatta-documentation/assets/js/48.1f41410e.js"><link rel="prefetch" href="/anatta-documentation/assets/js/49.6f63f80d.js"><link rel="prefetch" href="/anatta-documentation/assets/js/50.502971b6.js"><link rel="prefetch" href="/anatta-documentation/assets/js/51.7398c0e9.js"><link rel="prefetch" href="/anatta-documentation/assets/js/52.e35fe82f.js"><link rel="prefetch" href="/anatta-documentation/assets/js/53.8dc09600.js"><link rel="prefetch" href="/anatta-documentation/assets/js/54.1c3d3196.js"><link rel="prefetch" href="/anatta-documentation/assets/js/55.6e9575ff.js"><link rel="prefetch" href="/anatta-documentation/assets/js/6.cf7e87cf.js"><link rel="prefetch" href="/anatta-documentation/assets/js/7.9e5f1722.js"><link rel="prefetch" href="/anatta-documentation/assets/js/8.c5225ce5.js"><link rel="prefetch" href="/anatta-documentation/assets/js/9.9bc645e3.js">
    <link rel="stylesheet" href="/anatta-documentation/assets/css/0.styles.80e705ca.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/anatta-documentation/" class="home-link router-link-active"><img src="/anatta-documentation/favicon.ico" alt="Anatta Documentation" class="logo"> <span class="site-name can-hide">Anatta Documentation</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Prismic" class="dropdown-title"><span class="title">Prismic</span> <span class="arrow down"></span></button> <button type="button" aria-label="Prismic" class="mobile-dropdown-title"><span class="title">Prismic</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/anatta-documentation/prismic/" class="nav-link">
  Prismic
</a></li><li class="dropdown-item"><!----> <a href="/anatta-documentation/Prismic-1.0/" class="nav-link">
  Prismic 1.0
</a></li><li class="dropdown-item"><!----> <a href="/anatta-documentation/Prismic-2.0/" class="nav-link">
  Prismic 2.0
</a></li><li class="dropdown-item"><!----> <a href="/anatta-documentation/common-terms-and-code-snippets/" class="nav-link">
  Common Terms and Code Snippets
</a></li></ul></div></div><div class="nav-item"><a href="/anatta-documentation/shopify-shell/" class="nav-link">
  Shopify Shell
</a></div><div class="nav-item"><a href="/anatta-documentation/design-tokens/" class="nav-link">
  Design Token
</a></div><div class="nav-item"><a href="/anatta-documentation/developer-guide/" class="nav-link">
  Developer Guide
</a></div> <a href="https://github.com/anattadesign/anatta-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Prismic" class="dropdown-title"><span class="title">Prismic</span> <span class="arrow down"></span></button> <button type="button" aria-label="Prismic" class="mobile-dropdown-title"><span class="title">Prismic</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/anatta-documentation/prismic/" class="nav-link">
  Prismic
</a></li><li class="dropdown-item"><!----> <a href="/anatta-documentation/Prismic-1.0/" class="nav-link">
  Prismic 1.0
</a></li><li class="dropdown-item"><!----> <a href="/anatta-documentation/Prismic-2.0/" class="nav-link">
  Prismic 2.0
</a></li><li class="dropdown-item"><!----> <a href="/anatta-documentation/common-terms-and-code-snippets/" class="nav-link">
  Common Terms and Code Snippets
</a></li></ul></div></div><div class="nav-item"><a href="/anatta-documentation/shopify-shell/" class="nav-link">
  Shopify Shell
</a></div><div class="nav-item"><a href="/anatta-documentation/design-tokens/" class="nav-link">
  Design Token
</a></div><div class="nav-item"><a href="/anatta-documentation/developer-guide/" class="nav-link">
  Developer Guide
</a></div> <a href="https://github.com/anattadesign/anatta-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Prismic Integration</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/anatta-documentation/prismic-1.0-integration/" aria-current="page" class="sidebar-link">Introduction</a></li><li><a href="/anatta-documentation/prismic-1.0-integration/getting-started.html" class="sidebar-link">Getting Started</a></li><li><a href="/anatta-documentation/prismic-1.0-integration/verify-integration.html" class="sidebar-link">Verify Integration</a></li><li><a href="/anatta-documentation/prismic-1.0-integration/code-integration.html" aria-current="page" class="active sidebar-link">Code Integration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/anatta-documentation/prismic-1.0-integration/code-integration.html#create-a-template" class="sidebar-link">Create a template</a></li><li class="sidebar-sub-header"><a href="/anatta-documentation/prismic-1.0-integration/code-integration.html#create-snippets" class="sidebar-link">Create snippets</a></li><li class="sidebar-sub-header"><a href="/anatta-documentation/prismic-1.0-integration/code-integration.html#get-metafields-namespace-and-key-for-the-created-snippets" class="sidebar-link">Get metafields namespace and key for the created snippets</a></li><li class="sidebar-sub-header"><a href="/anatta-documentation/prismic-1.0-integration/code-integration.html#fetch-data" class="sidebar-link">Fetch Data</a></li><li class="sidebar-sub-header"><a href="/anatta-documentation/prismic-1.0-integration/code-integration.html#full-code" class="sidebar-link">Full Code</a></li><li class="sidebar-sub-header"><a href="/anatta-documentation/prismic-1.0-integration/code-integration.html#verify-changes" class="sidebar-link">Verify changes</a></li></ul></li><li><a href="/anatta-documentation/prismic-1.0-integration/common-adapter-errors.html" class="sidebar-link">Common Adapter Errors</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="code-integration"><a href="#code-integration" class="header-anchor">#</a> Code Integration</h1> <p>Once we verified that pages are being created from prismic along with all of the data saved in its metafields.
We need to implement code to fetch those metafields data and render it.</p> <p><strong>How it works ?</strong></p> <ul><li>Once we publish page on prismic, Prismic adaptor will create the new page on shopify if it doesn't exist. In this page's metafields all of our slices are stored as a namespace and all of the data within that slice is saved as its key.</li> <li>If page already exist on shopify, it will only update the metafields.</li> <li>Prismic adaptor will add few metafields. One important field is  'meta_field_priority' , which keep track of all the slices used in that particular page in order.</li></ul> <p><strong>Code logic</strong></p> <ul><li>loop through all the metafields created in a page.</li> <li>Search for<br> <code>namespace: 'meta_field_priority'</code><br> <code>key: 'priority'</code></li> <li>loop through its value , as it contains the slices names in the same order as we have implemented in prismic side.</li> <li>create the snippet with the slice_name,but using <strong>slice-name</strong> instead of <strong>slice_name</strong></li> <li>loop through each slice_name , which is also the metafield namespace.</li> <li>pass the namespace a.k.a slice_name and render the snippet that matches the <strong>slice-name</strong></li> <li>check for keys in specific namespace on page metafields or</li> <li>go to prismic custom type and get the <strong>API_ID</strong> of each placeholder of the specific slice.</li> <li>Once you get the key, Fetch the <strong>namespace</strong> that were sent earlier while rendering in a variable name 'Module';</li> <li>now you can following snippet to render the value,</li></ul> <div class="language- extra-class"><pre class="language-text"><code>metafields[module].key
</code></pre></div><h2 id="create-a-template"><a href="#create-a-template" class="header-anchor">#</a> Create a template</h2> <p>Create a new page template  and paste the code.</p> <div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>You only need to create one common page template for all of the prismic pages.</p></div> <div class="language-liquid extra-class"><pre class="language-liquid"><code>templates/page.prismic-page.liquid 


<span class="token comment">&lt;!-- fetch metafields of page using page-handle --&gt;</span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">assign</span> metafields <span class="token operator">=</span> pages<span class="token punctuation">.</span>page_handle<span class="token punctuation">.</span>metafields <span class="token delimiter punctuation">%}</span></span>

<span class="token comment">&lt;!-- loop through priority meta_field_priority --&gt;</span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">for</span> priorities <span class="token keyword">in</span> metafields<span class="token punctuation">[</span><span class="token string">'meta_field_priority'</span><span class="token punctuation">]</span> <span class="token delimiter punctuation">%}</span></span>
    <span class="token comment">&lt;!--  loop though priorioty --&gt;</span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">for</span> p <span class="token keyword">in</span> priorities <span class="token delimiter punctuation">%}</span></span>
		<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> snippet_names <span class="token operator">=</span> <span class="token string">''</span> <span class="token delimiter punctuation">-%}</span></span>
		<span class="token comment">&lt;!-- loop through namespace or slice key--&gt;</span>
		<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">for</span> module <span class="token keyword">in</span> p <span class="token delimiter punctuation">%}</span></span>
		   <span class="token comment">&lt;!-- replace slice_name to slice-name --&gt;</span>
			<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">assign</span> snippet_name <span class="token operator">=</span> module <span class="token operator">|</span> <span class="token function filter">replace</span><span class="token operator">:</span> <span class="token string">'_'</span><span class="token punctuation">,</span> <span class="token string">'-'</span> <span class="token delimiter punctuation">%}</span></span>
			<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> enable <span class="token operator">=</span> metafields<span class="token punctuation">[</span>module<span class="token punctuation">]</span><span class="token punctuation">.</span>enable <span class="token delimiter punctuation">-%}</span></span>
			<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> min <span class="token operator">=</span> <span class="token number">1200</span> <span class="token delimiter punctuation">-%}</span></span>
			<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> max <span class="token operator">=</span> <span class="token number">2300</span> <span class="token delimiter punctuation">-%}</span></span>
			<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> diff <span class="token operator">=</span> max <span class="token operator">|</span> <span class="token function filter">minus</span><span class="token operator">:</span> min <span class="token delimiter punctuation">-%}</span></span>
			<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> random_id <span class="token operator">=</span> <span class="token string">&quot;now&quot;</span> <span class="token operator">|</span> <span class="token object">date</span><span class="token operator">:</span> <span class="token string">&quot;%N&quot;</span> <span class="token operator">|</span> <span class="token function filter">modulo</span><span class="token operator">:</span> diff <span class="token operator">|</span> <span class="token function filter">plus</span><span class="token operator">:</span> min <span class="token delimiter punctuation">-%}</span></span>
			<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">if</span> module <span class="token operator">!=</span> <span class="token string">'priority'</span> <span class="token delimiter punctuation">-%}</span></span>
				<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">capture</span> slice_data <span class="token delimiter punctuation">-%}</span></span>
					<span class="token comment">&lt;!-- <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> snippet_name <span class="token delimiter punctuation">}}</span></span> --&gt;</span>
                    <span class="token comment">&lt;!-- create new snippet with slice-name and render here--&gt;</span>
					<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">if</span> enable <span class="token operator">==</span> <span class="token boolean">true</span><span class="token delimiter punctuation">%}</span></span>
					  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">include</span> snippet_name<span class="token punctuation">,</span> id<span class="token operator">:</span> random_id <span class="token delimiter punctuation">%}</span></span>
					<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">endif</span> %<span class="token delimiter punctuation">%}</span></span>
				<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endcapture</span> <span class="token delimiter punctuation">-%}</span></span>
				
				<span class="token comment">&lt;!--if same slice is imported twice, our metafields value will be set as slice-name-1 --&gt;</span>
				<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">if</span> slice_data <span class="token operator">contains</span> <span class="token string">'Liquid error:'</span> <span class="token delimiter punctuation">-%}</span></span>
					<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> allSlices <span class="token operator">=</span> snippet_names <span class="token operator">|</span> <span class="token function filter">split</span><span class="token operator">:</span> <span class="token string">','</span> <span class="token delimiter punctuation">-%}</span></span>
					<span class="token comment">&lt;!--split the slice-name and check if it matches with any snippet-name,once matched it will render the snippet --&gt;</span>
					<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">for</span> slice_name <span class="token keyword">in</span> allSlices <span class="token delimiter punctuation">%}</span></span>
						<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">if</span> snippet_name <span class="token operator">contains</span> slice_name <span class="token delimiter punctuation">-%}</span></span>
							<span class="token comment">&lt;!-- <span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> snippet_name <span class="token delimiter punctuation">}}</span></span> --&gt;</span>
							<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">if</span> enable <span class="token operator">==</span> <span class="token boolean">true</span><span class="token delimiter punctuation">%}</span></span>
								<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">include</span> snippet_name<span class="token punctuation">,</span> id<span class="token operator">:</span> random_id <span class="token delimiter punctuation">%}</span></span>
							  <span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">endif</span> %<span class="token delimiter punctuation">%}</span></span>
							<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">break</span> <span class="token delimiter punctuation">%}</span></span>
						<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endif</span> <span class="token delimiter punctuation">-%}</span></span>
					<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endfor</span> <span class="token delimiter punctuation">-%}</span></span>
				<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">else</span> <span class="token delimiter punctuation">-%}</span></span>
					<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">assign</span> snippet_names <span class="token operator">=</span> snippet_names <span class="token operator">|</span> <span class="token function filter">append</span><span class="token operator">:</span> snippet_name <span class="token operator">|</span> <span class="token function filter">append</span><span class="token operator">:</span> <span class="token string">','</span> <span class="token delimiter punctuation">-%}</span></span>
					<span class="token liquid language-liquid"><span class="token delimiter punctuation">{{</span> slice_data <span class="token delimiter punctuation">}}</span></span>
				<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endif</span> <span class="token delimiter punctuation">-%}</span></span>
			<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%-</span> <span class="token keyword">endif</span> <span class="token delimiter punctuation">-%}</span></span>

		<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span>
	<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span>
<span class="token liquid language-liquid"><span class="token delimiter punctuation">{%</span> <span class="token keyword">endfor</span> <span class="token delimiter punctuation">%}</span></span></code></pre></div><div class="block-space"></div> <hr> <h2 id="create-snippets"><a href="#create-snippets" class="header-anchor">#</a> Create snippets</h2> <p><strong>Go to page url</strong></p> <img src="/anatta-documentation/assets/img/page-url.bad5f99f.png"> <div class="block-space"></div> <hr> <ul><li><strong>Add &quot;/metafields.json&quot; at the end of url</strong></li></ul> <img src="/anatta-documentation/assets/img/page-url-meta.85b6b01a.png"> <div class="block-space"></div> <hr> <ul><li><strong>Search for 'meta_field_priority'</strong></li></ul> <img src="/anatta-documentation/assets/img/priority-check.fdec1dfa.png"> <div class="block-space"></div> <hr> <ul><li><strong>Check value of 'meta_field_priority'</strong></li></ul> <img src="/anatta-documentation/assets/img/priority.59e4c5ba.png"> <div class="block-space"></div> <hr> <ul><li><p><strong>Create a snippet using 'meta_field_priority'</strong></p> <p>Check the value key of 'meta_field_priority'<br> <code>&quot;test_slice</code></p> <p>Make a new snippet with the title of each seperated value.</p></li></ul> <div class="custom-block danger"><p class="custom-block-title">DANGER</p> <p>Make sure you name the snippet as <strong>test-slice</strong> not  <strong>test_slice</strong> !!</p></div> <div class="language- extra-class"><pre class="language-text"><code>snippets/test-slice.liquid
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p><strong>test_slice</strong> is also the metafields namespace.</p></div> <div class="block-space"></div> <hr> <h2 id="get-metafields-namespace-and-key-for-the-created-snippets"><a href="#get-metafields-namespace-and-key-for-the-created-snippets" class="header-anchor">#</a> Get metafields namespace and key for the created snippets</h2> <p>The created snippets have access to the 'namespace' called <strong>module</strong>.</p> <p>Fetch all the metafields belonging to that namespace using,</p> <div class="language- extra-class"><pre class="language-text"><code>snippets/test-slice.liquid

&lt;!-- fetch metafields based on namespace aka slice_test --&gt;
{% assign section = metafields[module] %} 
</code></pre></div><div class="custom-block tip"><p class="custom-block-title">TIP</p> <p>Instead of calling the actual namespace 'slice_test' , we can use <strong>module</strong> variable which have the namespace based on which this snippet is called.
Refer to <a href="#create-a-template">Create a template</a></p></div> <p>Fetch the metafield key by going to the prismic dashboard / custom types / slice ,
Copy the placeholder id.</p> <p><strong>Placeholder id</strong> acts as an metafields key,</p> <img src="/anatta-documentation/assets/img/Api-key.0277860e.png"> <h2 id="fetch-data"><a href="#fetch-data" class="header-anchor">#</a> Fetch Data</h2> <p>Use the namespace(slice_test) and key(section_title) acquired from above, to fetch the value of that placeholder.</p> <div class="language- extra-class"><pre class="language-text"><code>snippets/test-slice.liquid

&lt;!-- fetch value based on key(section_title) --&gt;
{% assign section_title = section['section_title'] %} 
</code></pre></div><h2 id="full-code"><a href="#full-code" class="header-anchor">#</a> Full Code</h2> <div class="language- extra-class"><pre class="language-text"><code>snippets/test-slice.liquid

&lt;!-- fetch metafields based on namespace(slice_test) --&gt;
{% assign section = metafields[module] %} 

&lt;!-- fetch value based on key(section_title) --&gt;
{% assign section_title = section['section_title'] %} 

&lt;!-- Render data --&gt;
&lt;h1 class=&quot;section__title&quot;&gt;{{section_title}}&lt;/h1&gt;
</code></pre></div><h2 id="verify-changes"><a href="#verify-changes" class="header-anchor">#</a> Verify changes</h2> <p>Now assign your prismic <strong>page template</strong> to <strong>prismic-page</strong><br>
View your page in the prismic-page template</p> <div class="language- extra-class"><pre class="language-text"><code>/pages/{page handle}?view=prismic-page
</code></pre></div><img src="/anatta-documentation/assets/img/render-page.42304458.png"> <img src="/anatta-documentation/assets/img/document-section-heading.fd7bd487.png"></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/anattadesign/anatta-documentation/edit/master/docs/src/prismic-1.0-integration/code-integration.md" target="_blank" rel="noopener noreferrer">Help us improve this page!</a> <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/18/2022, 2:31:16 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/anatta-documentation/prismic-1.0-integration/verify-integration.html" class="prev">
        Verify Integration
      </a></span> <span class="next"><a href="/anatta-documentation/prismic-1.0-integration/common-adapter-errors.html">
        Common Adapter Errors
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/anatta-documentation/assets/js/app.262112a6.js" defer></script><script src="/anatta-documentation/assets/js/2.1f2a316b.js" defer></script><script src="/anatta-documentation/assets/js/5.94f2f22d.js" defer></script>
  </body>
</html>
